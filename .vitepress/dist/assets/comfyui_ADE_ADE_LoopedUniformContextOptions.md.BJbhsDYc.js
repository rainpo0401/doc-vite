import{_ as e,c as t,o as n,a4 as o}from"./chunks/framework.DpC1ZpOZ.js";const m=JSON.parse('{"title":"Documentation","description":"","frontmatter":{},"headers":[],"relativePath":"comfyui/ADE/ADE_LoopedUniformContextOptions.md","filePath":"comfyui/ADE/ADE_LoopedUniformContextOptions.md"}'),l={name:"comfyui/ADE/ADE_LoopedUniformContextOptions.md"},a=o(`<h1 id="documentation" tabindex="-1">Documentation <a class="header-anchor" href="#documentation" aria-label="Permalink to &quot;Documentation&quot;">â€‹</a></h1><ul><li>Class name: LoopedUniformContextOptionsNode</li><li>Category: Animate Diff ğŸ­ğŸ…ğŸ…“/context opts</li><li>Output node: False</li><li>Repo Ref: <a href="https://github.com/Kosinkadink/ComfyUI-AnimateDiff-Evolved.git" target="_blank" rel="noreferrer">https://github.com/Kosinkadink/ComfyUI-AnimateDiff-Evolved.git</a></li></ul><p>LoopedUniformContextOptionsNodeæ—¨åœ¨ä¸ºåŠ¨ç”»ç›®çš„ç”Ÿæˆä¸€ç³»åˆ—ä¸Šä¸‹æ–‡é€‰é¡¹ã€‚å®ƒæ ¹æ®ç»™å®šçš„å‚æ•°åˆ›å»ºåŸºäºä¸Šä¸‹æ–‡çš„å‡åŒ€åˆ†å¸ƒï¼Œç¡®ä¿åŠ¨ç”»å¸§çš„ä¸€è‡´æµåŠ¨ã€‚è¯¥èŠ‚ç‚¹ç‰¹åˆ«é€‚ç”¨äºåˆ›å»ºåŠ¨ç”»å¾ªç¯ï¼Œå…¶ä¸­å‡åŒ€æ€§å’Œè¿ç»­æ€§è‡³å…³é‡è¦ã€‚</p><h1 id="input-types" tabindex="-1">Input types <a class="header-anchor" href="#input-types" aria-label="Permalink to &quot;Input types&quot;">â€‹</a></h1><h2 id="required" tabindex="-1">Required <a class="header-anchor" href="#required" aria-label="Permalink to &quot;Required&quot;">â€‹</a></h2><ul><li>context_length <ul><li>context_lengthå‚æ•°å†³å®šäº†åŠ¨ç”»åºåˆ—ä¸­æ¯ä¸ªä¸Šæ–‡çš„é•¿åº¦ã€‚å®ƒå¯¹äºå®šä¹‰æ¯ä¸ªä¸Šä¸‹æ–‡çš„èŒƒå›´è‡³å…³é‡è¦ï¼Œå¹¶å½±å“åŠ¨ç”»çš„æ•´ä½“ç»“æ„ã€‚</li><li>Comfy dtype: INT</li><li>Python dtype: int</li></ul></li><li>context_stride <ul><li>context_strideå‚æ•°æŒ‡å®šè¿ç»­ä¸Šä¸‹æ–‡ä¹‹é—´çš„æ­¥é•¿ã€‚å®ƒå½±å“æ¯ä¸ªä¸Šä¸‹æ–‡ä¸å…¶é‚»å±…çš„å…³è”ç¨‹åº¦ï¼Œå½±å“åŠ¨ç”»åºåˆ—çš„è¿è´¯æ€§ã€‚</li><li>Comfy dtype: INT</li><li>Python dtype: int</li></ul></li><li>context_overlap <ul><li>context_overlapå‚æ•°å®šä¹‰äº†ç›¸é‚»ä¸Šä¸‹æ–‡ä¹‹é—´çš„é‡å é‡ã€‚è¿™å¯¹äºç¡®ä¿åŠ¨ç”»ä¸­ä¸Šä¸‹æ–‡ä¹‹é—´çš„å¹³æ»‘è¿‡æ¸¡å’Œä¿æŒè§†è§‰è¿ç»­æ€§å¾ˆé‡è¦ã€‚</li><li>Comfy dtype: INT</li><li>Python dtype: int</li></ul></li><li>closed_loop <ul><li>closed_loopå‚æ•°æŒ‡ç¤ºåŠ¨ç”»æ˜¯å¦åº”åœ¨æœ€åä¸€ä¸ªä¸Šä¸‹æ–‡ä¹‹åå¾ªç¯å›åˆ°å¼€å¤´ã€‚è¿™å¯ä»¥ç”¨æ¥åˆ›å»ºæ— ç¼ã€é‡å¤çš„åŠ¨ç”»ã€‚</li><li>Comfy dtype: BOOLEAN</li><li>Python dtype: bool</li></ul></li></ul><h2 id="optional" tabindex="-1">Optional <a class="header-anchor" href="#optional" aria-label="Permalink to &quot;Optional&quot;">â€‹</a></h2><ul><li>fuse_method <ul><li>fuse_methodå‚æ•°å†³å®šäº†åŠ¨ç”»ä¸­ä¸Šä¸‹æ–‡æ˜¯å¦‚ä½•èåˆåœ¨ä¸€èµ·çš„ã€‚å®ƒå¯ä»¥å½±å“ä¸Šä¸‹æ–‡çš„æ··åˆå’Œåˆå¹¶ï¼Œå½±å“åŠ¨ç”»çš„æœ€ç»ˆå¤–è§‚ã€‚</li><li>Comfy dtype: ContextFuseMethod.LIST</li><li>Python dtype: str</li></ul></li><li>use_on_equal_length <ul><li>use_on_equal_lengthå‚æ•°æŒ‡å®šæ˜¯å¦ä»…åœ¨ä¸Šä¸‹æ–‡çš„é•¿åº¦ç¬¦åˆç‰¹å®šæ¡ä»¶æ—¶æ‰åº”ä½¿ç”¨ä¸Šä¸‹æ–‡ã€‚è¿™å¯ä»¥ç”¨æ¥æ ¹æ®ç‰¹å®šæ ‡å‡†æ§åˆ¶ä¸Šä¸‹æ–‡çš„åº”ç”¨ã€‚</li><li>Comfy dtype: BOOLEAN</li><li>Python dtype: bool</li></ul></li><li>start_percent <ul><li>start_percentå‚æ•°å®šä¹‰äº†åŠ¨ç”»åºåˆ—ä¸­ä¸Šä¸‹æ–‡çš„èµ·å§‹ç™¾åˆ†æ¯”ã€‚å®ƒç”¨äºæ§åˆ¶æ¯ä¸ªä¸Šä¸‹æ–‡å¼€å§‹çš„æ—¶é—´ã€‚</li><li>Comfy dtype: FLOAT</li><li>Python dtype: float</li></ul></li><li>guarantee_steps <ul><li>guarantee_stepså‚æ•°ç¡®ä¿æ¯ä¸ªä¸Šä¸‹æ–‡åœ¨åŠ¨ç”»ä¸­è‡³å°‘æ˜¾ç¤ºä¸€å®šæ•°é‡çš„æ­¥éª¤ã€‚è¿™æœ‰åŠ©äºä¿æŒæ¯ä¸ªä¸Šä¸‹æ–‡åœ¨åºåˆ—ä¸­çš„å¯è§æ€§å’Œå½±å“åŠ›ã€‚</li><li>Comfy dtype: INT</li><li>Python dtype: int</li></ul></li><li>view_opts <ul><li>view_optså‚æ•°æä¾›äº†æŸ¥çœ‹åŠ¨ç”»çš„é€‰é¡¹ã€‚å®ƒå¯ä»¥åŒ…æ‹¬å½±å“åŠ¨ç”»æ˜¾ç¤ºæˆ–æ¸²æŸ“çš„è®¾ç½®ã€‚</li><li>Comfy dtype: VIEW_OPTS</li><li>Python dtype: ContextOptions</li></ul></li><li>prev_context <ul><li>prev_contextå‚æ•°å…è®¸å»¶ç»­ä¹‹å‰çš„ä¸Šä¸‹æ–‡åºåˆ—ã€‚å½“æ‰©å±•æˆ–ä¿®æ”¹ç°æœ‰çš„åŠ¨ç”»åºåˆ—æ—¶ä½¿ç”¨ã€‚</li><li>Comfy dtype: CONTEXT_OPTIONS</li><li>Python dtype: ContextOptionsGroup</li></ul></li></ul><h1 id="output-types" tabindex="-1">Output types <a class="header-anchor" href="#output-types" aria-label="Permalink to &quot;Output types&quot;">â€‹</a></h1><ul><li>CONTEXT_OPTS <ul><li>è¾“å‡ºCONTEXT_OPTSæä¾›äº†åŸºäºè¾“å…¥å‚æ•°ç”Ÿæˆçš„ä¸€ç»„ç»“æ„åŒ–çš„ä¸Šä¸‹æ–‡é€‰é¡¹ã€‚è¿™äº›é€‰é¡¹å¯ä»¥ç›´æ¥ç”¨äºåŠ¨ç”»è¿‡ç¨‹ã€‚</li><li>Comfy dtype: CONTEXT_OPTIONS</li><li>Python dtype: ContextOptionsGroup</li></ul></li></ul><h1 id="usage-tips" tabindex="-1">Usage tips <a class="header-anchor" href="#usage-tips" aria-label="Permalink to &quot;Usage tips&quot;">â€‹</a></h1><ul><li>Infra type: CPU</li></ul><h1 id="source-code" tabindex="-1">Source code <a class="header-anchor" href="#source-code" aria-label="Permalink to &quot;Source code&quot;">â€‹</a></h1><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>class LoopedUniformContextOptionsNode:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    @classmethod</span></span>
<span class="line"><span>    def INPUT_TYPES(s):</span></span>
<span class="line"><span>        return {&#39;required&#39;: {&#39;context_length&#39;: (&#39;INT&#39;, {&#39;default&#39;: 16, &#39;min&#39;: 1, &#39;max&#39;: LENGTH_MAX}), &#39;context_stride&#39;: (&#39;INT&#39;, {&#39;default&#39;: 1, &#39;min&#39;: 1, &#39;max&#39;: STRIDE_MAX}), &#39;context_overlap&#39;: (&#39;INT&#39;, {&#39;default&#39;: 4, &#39;min&#39;: 0, &#39;max&#39;: OVERLAP_MAX}), &#39;closed_loop&#39;: (&#39;BOOLEAN&#39;, {&#39;default&#39;: False})}, &#39;optional&#39;: {&#39;fuse_method&#39;: (ContextFuseMethod.LIST,), &#39;use_on_equal_length&#39;: (&#39;BOOLEAN&#39;, {&#39;default&#39;: False}), &#39;start_percent&#39;: (&#39;FLOAT&#39;, {&#39;default&#39;: 0.0, &#39;min&#39;: 0.0, &#39;max&#39;: 1.0, &#39;step&#39;: 0.001}), &#39;guarantee_steps&#39;: (&#39;INT&#39;, {&#39;default&#39;: 1, &#39;min&#39;: 0, &#39;max&#39;: BIGMAX}), &#39;prev_context&#39;: (&#39;CONTEXT_OPTIONS&#39;,), &#39;view_opts&#39;: (&#39;VIEW_OPTS&#39;,)}}</span></span>
<span class="line"><span>    RETURN_TYPES = (&#39;CONTEXT_OPTIONS&#39;,)</span></span>
<span class="line"><span>    RETURN_NAMES = (&#39;CONTEXT_OPTS&#39;,)</span></span>
<span class="line"><span>    CATEGORY = &#39;Animate Diff ğŸ­ğŸ…ğŸ…“/context opts&#39;</span></span>
<span class="line"><span>    FUNCTION = &#39;create_options&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    def create_options(self, context_length: int, context_stride: int, context_overlap: int, closed_loop: bool, fuse_method: str=ContextFuseMethod.FLAT, use_on_equal_length=False, start_percent: float=0.0, guarantee_steps: int=1, view_opts: ContextOptions=None, prev_context: ContextOptionsGroup=None):</span></span>
<span class="line"><span>        if prev_context is None:</span></span>
<span class="line"><span>            prev_context = ContextOptionsGroup()</span></span>
<span class="line"><span>        prev_context = prev_context.clone()</span></span>
<span class="line"><span>        context_options = ContextOptions(context_length=context_length, context_stride=context_stride, context_overlap=context_overlap, context_schedule=ContextSchedules.UNIFORM_LOOPED, closed_loop=closed_loop, fuse_method=fuse_method, use_on_equal_length=use_on_equal_length, start_percent=start_percent, guarantee_steps=guarantee_steps, view_options=view_opts)</span></span>
<span class="line"><span>        prev_context.add(context_options)</span></span>
<span class="line"><span>        return (prev_context,)</span></span></code></pre></div>`,14),i=[a];function s(p,r,u,_,c,d){return n(),t("div",null,i)}const f=e(l,[["render",s]]);export{m as __pageData,f as default};
