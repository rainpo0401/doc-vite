import{_ as e,c as i,o as a,a4 as s}from"./chunks/framework.DpC1ZpOZ.js";const h=JSON.parse('{"title":"Documentation","description":"","frontmatter":{},"headers":[],"relativePath":"comfyui/ADE/ADE_NoiseLayerAddWeighted.md","filePath":"comfyui/ADE/ADE_NoiseLayerAddWeighted.md"}'),l={name:"comfyui/ADE/ADE_NoiseLayerAddWeighted.md"},n=s(`<h1 id="documentation" tabindex="-1">Documentation <a class="header-anchor" href="#documentation" aria-label="Permalink to &quot;Documentation&quot;">â€‹</a></h1><ul><li>Class name: NoiseLayerAddWeightedNode</li><li>Category: Animate Diff ğŸ­ğŸ…ğŸ…“/noise layers</li><li>Output node: False</li><li>Repo Ref: <a href="https://github.com/Kosinkadink/ComfyUI-AnimateDiff-Evolved.git" target="_blank" rel="noreferrer">https://github.com/Kosinkadink/ComfyUI-AnimateDiff-Evolved.git</a></li></ul><p>NoiseLayerAddWeightedNode ç±»æ—¨åœ¨ä»¥åŠ æƒæ–¹å¼æ“ä½œå’Œå¼•å…¥å™ªå£°åˆ°ç³»ç»Ÿä¸­ã€‚å®ƒæ˜¯åŠ¨ç”»è¿‡ç¨‹ä¸­çš„ä¸€ä¸ªå…³é”®ç»„ä»¶ï¼Œå…è®¸å¾®è°ƒå™ªå£°ç‰¹å¾ã€‚è¯¥èŠ‚ç‚¹çš„ä¸»è¦åŠŸèƒ½æ˜¯å‘ç°æœ‰ç»„ä¸­æ·»åŠ å™ªå£°å±‚ï¼Œç¡®ä¿æ–°å™ªå£°å…ƒç´ ä¸ç°æœ‰å…ƒç´ çš„å¹³è¡¡é›†æˆï¼Œä»è€Œå¢å¼ºåŠ¨ç”»çš„æ•´ä½“å¤šæ ·æ€§å’Œå¤æ‚æ€§ã€‚</p><h1 id="input-types" tabindex="-1">Input types <a class="header-anchor" href="#input-types" aria-label="Permalink to &quot;Input types&quot;">â€‹</a></h1><h2 id="required" tabindex="-1">Required <a class="header-anchor" href="#required" aria-label="Permalink to &quot;Required&quot;">â€‹</a></h2><ul><li>batch_offset <ul><li>batch_offset å‚æ•°å¯¹äºç®¡ç†å™ªå£°å±‚çš„å¤„ç†é¡ºåºè‡³å…³é‡è¦ã€‚å®ƒå½±å“åŠ¨ç”»ä¸­å™ªå£°å±‚çš„æ•´ä½“ç»“æ„å’Œç»„ç»‡ï¼Œç¡®ä¿æ¯ä¸ªå±‚åœ¨åºåˆ—ä¸­æ­£ç¡®å®šä½ã€‚</li><li>Comfy dtype: INT</li><li>Python dtype: int</li></ul></li><li>noise_type <ul><li>noise_type å‚æ•°å®šä¹‰äº†è¦æ·»åŠ åˆ°åŠ¨ç”»ä¸­çš„å™ªå£°ç±»å‹ã€‚å®ƒåœ¨ç¡®å®šå™ªå£°çš„è§†è§‰å’Œç»“æ„æ–¹é¢èµ·ç€é‡è¦ä½œç”¨ï¼Œä»è€Œå½±å“åŠ¨ç”»çš„æœ€ç»ˆè¾“å‡ºã€‚</li><li>Comfy dtype: NoiseLayerType.LIST</li><li>Python dtype: str</li></ul></li><li>seed_gen_override <ul><li>seed_gen_override å‚æ•°å…è®¸å®šåˆ¶å™ªå£°ç”Ÿæˆè¿‡ç¨‹ã€‚å®ƒå¯¹äºåˆ›å»ºç‹¬ç‰¹çš„å™ªå£°æ¨¡å¼å’Œç¡®ä¿åŠ¨ç”»éšæœºå…ƒç´ æ‰€éœ€çš„éšæœºæ€§å¾ˆé‡è¦ã€‚</li><li>Comfy dtype: SeedNoiseGeneration.LIST_WITH_OVERRIDE</li><li>Python dtype: str</li></ul></li><li>seed_offset <ul><li>seed_offset å‚æ•°å¯¹äºæ§åˆ¶å™ªå£°ç”Ÿæˆä¸­çš„éšæœºæ€§è‡³å…³é‡è¦ã€‚å®ƒç¡®ä¿æ¯ä¸ªå™ªå£°å±‚éƒ½æœ‰ç‹¬ç‰¹ä¸”ä¸å¯é¢„æµ‹çš„è´¨é‡ï¼Œæœ‰åŠ©äºå¢åŠ åŠ¨ç”»çš„å¤šæ ·æ€§ã€‚</li><li>Comfy dtype: INT</li><li>Python dtype: int</li></ul></li><li>noise_weight <ul><li>noise_weight å‚æ•°è°ƒæ•´æ·»åŠ åˆ°åŠ¨ç”»ä¸­çš„å™ªå£°å¼ºåº¦ã€‚å®ƒæ˜¯å®ç°æ‰€éœ€è§†è§‰æ•ˆæœçš„å…³é”®å› ç´ ï¼Œå¹¶ç¡®ä¿å™ªå£°ä¸åŠ¨ç”»çš„åŸºæœ¬å…ƒç´ ä¿æŒå¹³è¡¡ã€‚</li><li>Comfy dtype: FLOAT</li><li>Python dtype: float</li></ul></li><li>balance_multiplier <ul><li>balance_multiplier å‚æ•°ç”¨äºå¾®è°ƒç°æœ‰å™ªå£°ä¸æ–°å¢å™ªå£°ä¹‹é—´çš„å¹³è¡¡ã€‚å®ƒç¡®ä¿æ•´ä½“å™ªå£°æ•ˆæœå’Œè°å¹¶èå…¥åŠ¨ç”»ä¸­ã€‚</li><li>Comfy dtype: FLOAT</li><li>Python dtype: float</li></ul></li></ul><h2 id="optional" tabindex="-1">Optional <a class="header-anchor" href="#optional" aria-label="Permalink to &quot;Optional&quot;">â€‹</a></h2><ul><li>prev_noise_layers <ul><li>prev_noise_layers å‚æ•°æ˜¯ä¹‹å‰ç”Ÿæˆçš„å™ªå£°å±‚çš„å¯é€‰ç»„ã€‚å®ƒå…è®¸åœ¨ç°æœ‰å™ªå£°ç»“æ„çš„åŸºç¡€ä¸Šç»§ç»­å’Œæ„å»ºï¼Œä¿æŒåŠ¨ç”»çš„ä¸€è‡´æ€§å’Œè¿è´¯æ€§ã€‚</li><li>Comfy dtype: NOISE_LAYERS</li><li>Python dtype: Optional[NoiseLayerGroup]</li></ul></li><li>mask_optional <ul><li>mask_optional å‚æ•°æ˜¯ä¸€ä¸ªå¯é€‰çš„å¼ é‡ï¼Œå¯ä»¥ç”¨æ¥é€‰æ‹©æ€§åœ°å°†å™ªå£°åº”ç”¨äºåŠ¨ç”»çš„ç‰¹å®šåŒºåŸŸã€‚å®ƒæä¾›äº†å¯¹å™ªå£°æ•ˆæœæœ€çªå‡ºä½ç½®çš„æ§åˆ¶ã€‚</li><li>Comfy dtype: MASK</li><li>Python dtype: Optional[torch.Tensor]</li></ul></li><li>seed_override <ul><li>seed_override å‚æ•°ä¸ºå™ªå£°ç”Ÿæˆä¸­ä½¿ç”¨çš„ç§å­æä¾›äº†ä¸€ä¸ªå¯é€‰çš„è¦†ç›–ã€‚å®ƒå¯ä»¥ç”¨æ¥ç¡®ä¿å¯é‡å¤æ€§æˆ–å°†ç‰¹å®šçš„å™ªå£°æ¨¡å¼å¼•å…¥åˆ°åŠ¨ç”»ä¸­ã€‚</li><li>Comfy dtype: INT</li><li>Python dtype: Optional[int]</li></ul></li></ul><h1 id="output-types" tabindex="-1">Output types <a class="header-anchor" href="#output-types" aria-label="Permalink to &quot;Output types&quot;">â€‹</a></h1><ul><li>noise_layers <ul><li>NoiseLayerAddWeightedNode çš„è¾“å‡ºæ˜¯ä¿®æ”¹åçš„å™ªå£°å±‚ç»„ï¼Œå…¶ä¸­åŒ…æ‹¬æ–°æ·»åŠ çš„åŠ æƒå™ªå£°å±‚ã€‚è¿™ä¸ªè¾“å‡ºå¾ˆé‡è¦ï¼Œå› ä¸ºå®ƒæ„æˆäº†è¿›ä¸€æ­¥å¤„ç†å’ŒåŠ¨ç”»å¼€å‘çš„åŸºç¡€ã€‚</li><li>Comfy dtype: NOISE_LAYERS</li><li>Python dtype: NoiseLayerGroup</li></ul></li></ul><h1 id="usage-tips" tabindex="-1">Usage tips <a class="header-anchor" href="#usage-tips" aria-label="Permalink to &quot;Usage tips&quot;">â€‹</a></h1><ul><li>Infra type: CPU</li></ul><h1 id="source-code" tabindex="-1">Source code <a class="header-anchor" href="#source-code" aria-label="Permalink to &quot;Source code&quot;">â€‹</a></h1><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>class NoiseLayerAddWeightedNode:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    @classmethod</span></span>
<span class="line"><span>    def INPUT_TYPES(s):</span></span>
<span class="line"><span>        return {&#39;required&#39;: {&#39;batch_offset&#39;: (&#39;INT&#39;, {&#39;default&#39;: 0, &#39;min&#39;: 0, &#39;max&#39;: BIGMAX}), &#39;noise_type&#39;: (NoiseLayerType.LIST,), &#39;seed_gen_override&#39;: (SeedNoiseGeneration.LIST_WITH_OVERRIDE,), &#39;seed_offset&#39;: (&#39;INT&#39;, {&#39;default&#39;: 0, &#39;min&#39;: BIGMIN, &#39;max&#39;: BIGMAX}), &#39;noise_weight&#39;: (&#39;FLOAT&#39;, {&#39;default&#39;: 0.5, &#39;min&#39;: 0.0, &#39;max&#39;: 10.0, &#39;step&#39;: 0.001}), &#39;balance_multiplier&#39;: (&#39;FLOAT&#39;, {&#39;default&#39;: 1.0, &#39;min&#39;: 0.0, &#39;step&#39;: 0.001})}, &#39;optional&#39;: {&#39;prev_noise_layers&#39;: (&#39;NOISE_LAYERS&#39;,), &#39;mask_optional&#39;: (&#39;MASK&#39;,), &#39;seed_override&#39;: (&#39;INT&#39;, {&#39;default&#39;: 0, &#39;min&#39;: 0, &#39;max&#39;: 18446744073709551615, &#39;forceInput&#39;: True})}}</span></span>
<span class="line"><span>    RETURN_TYPES = (&#39;NOISE_LAYERS&#39;,)</span></span>
<span class="line"><span>    CATEGORY = &#39;Animate Diff ğŸ­ğŸ…ğŸ…“/noise layers&#39;</span></span>
<span class="line"><span>    FUNCTION = &#39;create_layers&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    def create_layers(self, batch_offset: int, noise_type: str, seed_gen_override: str, seed_offset: int, noise_weight: float, balance_multiplier: float, prev_noise_layers: NoiseLayerGroup=None, mask_optional: Tensor=None, seed_override: int=None):</span></span>
<span class="line"><span>        if prev_noise_layers is None:</span></span>
<span class="line"><span>            prev_noise_layers = NoiseLayerGroup()</span></span>
<span class="line"><span>        prev_noise_layers = prev_noise_layers.clone()</span></span>
<span class="line"><span>        layer = NoiseLayerAddWeighted(noise_type=noise_type, batch_offset=batch_offset, seed_gen_override=seed_gen_override, seed_offset=seed_offset, seed_override=seed_override, mask=mask_optional, noise_weight=noise_weight, balance_multiplier=balance_multiplier)</span></span>
<span class="line"><span>        prev_noise_layers.add_to_start(layer)</span></span>
<span class="line"><span>        return (prev_noise_layers,)</span></span></code></pre></div>`,14),t=[n];function o(p,r,d,_,u,y){return a(),i("div",null,t)}const f=e(l,[["render",o]]);export{h as __pageData,f as default};
