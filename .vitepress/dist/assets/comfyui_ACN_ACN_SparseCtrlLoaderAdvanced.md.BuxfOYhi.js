import{_ as a,c as e,o as t,a4 as s}from"./chunks/framework.DpC1ZpOZ.js";const m=JSON.parse('{"title":"ACN_SparseCtrlLoaderAdvanced","description":"","frontmatter":{},"headers":[],"relativePath":"comfyui/ACN/ACN_SparseCtrlLoaderAdvanced.md","filePath":"comfyui/ACN/ACN_SparseCtrlLoaderAdvanced.md"}'),l={name:"comfyui/ACN/ACN_SparseCtrlLoaderAdvanced.md"},n=s(`<h1 id="acn-sparsectrlloaderadvanced" tabindex="-1">ACN_SparseCtrlLoaderAdvanced <a class="header-anchor" href="#acn-sparsectrlloaderadvanced" aria-label="Permalink to &quot;ACN_SparseCtrlLoaderAdvanced&quot;">​</a></h1><ul><li>Class name: SparseCtrlLoaderAdvanced</li><li>Category: Adv-ControlNet 🛂🅐🅒🅝/SparseCtrl</li><li>Output node: False</li><li>Repo Ref: <a href="https://github.com/Kosinkadink/ComfyUI-Advanced-ControlNet.git" target="_blank" rel="noreferrer">https://github.com/Kosinkadink/ComfyUI-Advanced-ControlNet.git</a></li></ul><p>SparseCtrlLoaderAdvanced节点旨在高效地加载和管理具有稀疏控制能力的高级控制网络。它抽象了处理稀疏控制数据的复杂性，使用户能够将运动特性无缝集成到他们的控制网络中。该节点简化了使用稀疏控制方法加载控制网络的过程，增强了系统的总体性能和功能。</p><h1 id="input-types" tabindex="-1">Input types <a class="header-anchor" href="#input-types" aria-label="Permalink to &quot;Input types&quot;">​</a></h1><h2 id="required" tabindex="-1">Required <a class="header-anchor" href="#required" aria-label="Permalink to &quot;Required&quot;">​</a></h2><ul><li>sparsectrl_name <ul><li>sparsectrl_name参数对于识别要加载的特定控制网络至关重要。它通过确定访问和处理哪个控制网络的数据来影响节点的执行。</li><li>Comfy dtype: str</li><li>Python dtype: str</li></ul></li></ul><h2 id="optional" tabindex="-1">Optional <a class="header-anchor" href="#optional" aria-label="Permalink to &quot;Optional&quot;">​</a></h2><ul><li>use_motion <ul><li>use_motion参数决定是否将运动特性纳入控制网络。它在节点的功能中起着重要作用，通过启用或禁用控制网络的运动方面。</li><li>Comfy dtype: bool</li><li>Python dtype: bool</li></ul></li><li>motion_strength <ul><li>motion_strength参数调整控制网络内运动特性的强度。它对于微调运动对控制网络最终输出的影响很重要。</li><li>Comfy dtype: float</li><li>Python dtype: float</li></ul></li><li>motion_scale <ul><li>motion_scale参数调整控制网络中运动效应的大小。它对于控制运动对网络行为的影响程度至关重要。</li><li>Comfy dtype: float</li><li>Python dtype: float</li></ul></li><li>sparse_method <ul><li>sparse_method参数定义了在控制网络内处理稀疏控制数据的方法。它对于确定处理和整合稀疏数据的策略至关重要。</li><li>Comfy dtype: SparseMethod</li><li>Python dtype: SparseMethod</li></ul></li><li>tk_optional <ul><li>tk_optional参数提供了一种为控制网络指定可选时间步关键帧的方法。对于需要自定义控制网络时间方面特性的用户来说，这很重要。</li><li>Comfy dtype: TimestepKeyframeGroup</li><li>Python dtype: TimestepKeyframeGroup</li></ul></li></ul><h1 id="output-types" tabindex="-1">Output types <a class="header-anchor" href="#output-types" aria-label="Permalink to &quot;Output types&quot;">​</a></h1><ul><li>CONTROL_NET <ul><li>CONTROL_NET输出代表了加载的高级控制网络，它结合了指定的稀疏控制设置和运动特性。它很重要，因为它是节点的主要输出，使得在系统中可以进行进一步的处理和利用。</li><li>Comfy dtype: ControlNetAdvanced</li><li>Python dtype: ControlNetAdvanced</li></ul></li></ul><h1 id="usage-tips" tabindex="-1">Usage tips <a class="header-anchor" href="#usage-tips" aria-label="Permalink to &quot;Usage tips&quot;">​</a></h1><ul><li>Infra type: GPU</li></ul><h1 id="source-code" tabindex="-1">Source code <a class="header-anchor" href="#source-code" aria-label="Permalink to &quot;Source code&quot;">​</a></h1><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>class SparseCtrlLoaderAdvanced:</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    @classmethod</span></span>
<span class="line"><span>    def INPUT_TYPES(s):</span></span>
<span class="line"><span>        return {&#39;required&#39;: {&#39;sparsectrl_name&#39;: (folder_paths.get_filename_list(&#39;controlnet&#39;),), &#39;use_motion&#39;: (&#39;BOOLEAN&#39;, {&#39;default&#39;: True}), &#39;motion_strength&#39;: (&#39;FLOAT&#39;, {&#39;default&#39;: 1.0, &#39;min&#39;: 0.0, &#39;max&#39;: 10.0, &#39;step&#39;: 0.001}), &#39;motion_scale&#39;: (&#39;FLOAT&#39;, {&#39;default&#39;: 1.0, &#39;min&#39;: 0.0, &#39;max&#39;: 10.0, &#39;step&#39;: 0.001})}, &#39;optional&#39;: {&#39;sparse_method&#39;: (&#39;SPARSE_METHOD&#39;,), &#39;tk_optional&#39;: (&#39;TIMESTEP_KEYFRAME&#39;,)}}</span></span>
<span class="line"><span>    RETURN_TYPES = (&#39;CONTROL_NET&#39;,)</span></span>
<span class="line"><span>    FUNCTION = &#39;load_controlnet&#39;</span></span>
<span class="line"><span>    CATEGORY = &#39;Adv-ControlNet 🛂🅐🅒🅝/SparseCtrl&#39;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>    def load_controlnet(self, sparsectrl_name: str, use_motion: bool, motion_strength: float, motion_scale: float, sparse_method: SparseMethod=SparseSpreadMethod(), tk_optional: TimestepKeyframeGroup=None):</span></span>
<span class="line"><span>        sparsectrl_path = folder_paths.get_full_path(&#39;controlnet&#39;, sparsectrl_name)</span></span>
<span class="line"><span>        sparse_settings = SparseSettings(sparse_method=sparse_method, use_motion=use_motion, motion_strength=motion_strength, motion_scale=motion_scale)</span></span>
<span class="line"><span>        sparsectrl = load_sparsectrl(sparsectrl_path, timestep_keyframe=tk_optional, sparse_settings=sparse_settings)</span></span>
<span class="line"><span>        return (sparsectrl,)</span></span></code></pre></div>`,14),o=[n];function i(r,p,d,c,u,_){return t(),e("div",null,o)}const f=a(l,[["render",i]]);export{m as __pageData,f as default};
